{"version":3,"file":"DepthResource.mjs","sources":["../../../src/textures/resources/DepthResource.ts"],"sourcesContent":["import { ALPHA_MODES } from 'pixijs/constants';\nimport { BufferResource } from './BufferResource';\n\nimport type { BaseTexture } from '../BaseTexture';\nimport type { Renderer } from '../../Renderer';\nimport type { GLTexture } from '../GLTexture';\n\n/**\n * Resource type for DepthTexture.\n * @memberof PIXI\n */\nexport class DepthResource extends BufferResource\n{\n    /**\n     * Upload the texture to the GPU.\n     * @param renderer - Upload to the renderer\n     * @param baseTexture - Reference to parent texture\n     * @param glTexture - glTexture\n     * @returns - true is success\n     */\n    upload(renderer: Renderer, baseTexture: BaseTexture, glTexture: GLTexture): boolean\n    {\n        const gl = renderer.gl;\n\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === ALPHA_MODES.UNPACK);\n\n        const width = baseTexture.realWidth;\n        const height = baseTexture.realHeight;\n\n        if (glTexture.width === width && glTexture.height === height)\n        {\n            gl.texSubImage2D(\n                baseTexture.target,\n                0,\n                0,\n                0,\n                width,\n                height,\n                baseTexture.format,\n                glTexture.type,\n                this.data,\n            );\n        }\n        else\n        {\n            glTexture.width = width;\n            glTexture.height = height;\n\n            gl.texImage2D(\n                baseTexture.target,\n                0,\n                glTexture.internalFormat,\n                width,\n                height,\n                0,\n                baseTexture.format,\n                glTexture.type,\n                this.data,\n            );\n        }\n\n        return true;\n    }\n}\n"],"names":[],"mappings":";;;AAWO,MAAM,sBAAsB,cACnC,CAAA;AAAA,EAQI,MAAA,CAAO,QAAoB,EAAA,WAAA,EAA0B,SACrD,EAAA;AACI,IAAA,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;AAEpB,IAAA,EAAA,CAAG,YAAY,EAAG,CAAA,8BAAA,EAAgC,WAAY,CAAA,SAAA,KAAc,YAAY,MAAM,CAAA,CAAA;AAE9F,IAAA,MAAM,QAAQ,WAAY,CAAA,SAAA,CAAA;AAC1B,IAAA,MAAM,SAAS,WAAY,CAAA,UAAA,CAAA;AAE3B,IAAA,IAAI,SAAU,CAAA,KAAA,KAAU,KAAS,IAAA,SAAA,CAAU,WAAW,MACtD,EAAA;AACI,MAAA,EAAA,CAAG,aACC,CAAA,WAAA,CAAY,MACZ,EAAA,CAAA,EACA,CACA,EAAA,CAAA,EACA,KACA,EAAA,MAAA,EACA,WAAY,CAAA,MAAA,EACZ,SAAU,CAAA,IAAA,EACV,KAAK,IACT,CAAA,CAAA;AAAA,KAGJ,MAAA;AACI,MAAA,SAAA,CAAU,KAAQ,GAAA,KAAA,CAAA;AAClB,MAAA,SAAA,CAAU,MAAS,GAAA,MAAA,CAAA;AAEnB,MAAA,EAAA,CAAG,UACC,CAAA,WAAA,CAAY,MACZ,EAAA,CAAA,EACA,UAAU,cACV,EAAA,KAAA,EACA,MACA,EAAA,CAAA,EACA,WAAY,CAAA,MAAA,EACZ,SAAU,CAAA,IAAA,EACV,KAAK,IACT,CAAA,CAAA;AAAA,KACJ;AAEA,IAAO,OAAA,IAAA,CAAA;AAAA,GACX;AACJ;;;;"}